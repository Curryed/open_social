services:
  social_user.route_subscriber:
    class: Drupal\social_user\Routing\RouteSubscriber
    arguments: ['@config.factory']
    tags:
      - { name: event_subscriber }
  social_user.username_constraint:
    class: Drupal\social_user\Plugin\Validation\Constraint\SocialUserNameConstraintValidator
    arguments: ['@typed_data_manager']
  social_user.user_route_context:
    class: Drupal\social_user\ContextProvider\UserRouteContext
    arguments: ['@current_route_match', '@entity_type.manager']
    tags:
      - { name: context_provider }
  social_user.redirect_subscriber:
    class: Drupal\social_user\EventSubscriber\RedirectSubscriber
    arguments: ['@current_route_match', '@current_user', '@config.factory']
    tags:
      - { name: event_subscriber }
  social_user.current_user:
    class: Drupal\social_user\SocialAccountProxy
    decorates: current_user
    decoration_priority: 5
    public: false
    arguments: ['@event_dispatcher', '@oauth2_server.oauth_helper', '@request_stack', '@oauth2_server.storage']
